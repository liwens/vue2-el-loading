/*!
 * vue2-el-loading v1.0.0
 * Copyright (c) 2018-present, liwens
 * Released under the MIT License.
 */

import e from"vue";var t={name:"Circular",props:{color:{type:String,default:"#409EFF"}}};var n=function(e,t,n,i,s,o,a,r,l,d){"boolean"!=typeof a&&(l=r,r=a,a=!1);var c,u="function"==typeof n?n.options:n;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),i&&(u._scopeId=i),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):t&&(c=a?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),c)if(u.functional){var f=u.render;u.render=function(e,t){return c.call(t),f(e,t)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,c):[c]}return n},i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var s=document.head||document.getElementsByTagName("head")[0],o={};var a=function(e){return function(e,t){return function(e,t){var n=i?t.media||"default":e,a=o[n]||(o[n]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);var r=t.source;if(t.map&&(r+="\n/*# sourceURL="+t.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",t.media&&a.element.setAttribute("media",t.media),s.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(r),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var l=a.ids.size-1,d=document.createTextNode(r),c=a.element.childNodes;c[l]&&a.element.removeChild(c[l]),c.length?a.element.insertBefore(d,c[l]):a.element.appendChild(d)}}}(e,t)}};var r=n({render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"circular__path",style:{stroke:this.color},attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])},staticRenderFns:[]},function(e){e&&e("data-v-36a328fc_0",{source:".circular{height:42px;width:42px;-webkit-animation:loading-rotate 2s linear infinite;animation:loading-rotate 2s linear infinite}.circular__path{-webkit-animation:loading-dash 1.5s ease-in-out infinite;animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:#409eff;stroke-linecap:round}@-webkit-keyframes loading-rotate{100%{transform:rotate(360deg)}}@keyframes loading-rotate{100%{transform:rotate(360deg)}}@-webkit-keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}100%{stroke-dasharray:90,150;stroke-dashoffset:-120px}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}100%{stroke-dasharray:90,150;stroke-dashoffset:-120px}}",map:void 0,media:void 0})},t,void 0,!1,void 0,a,void 0);var l=n({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"v-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[n("div",{staticClass:"v-loading-spinner",style:{color:e.color||"inherit"}},[e.spinner?n("i",{class:e.spinner}):n("circular",{attrs:{color:e.color}}),e._v(" "),e.text?n("p",{staticClass:"el-loading-text",style:{color:e.color}},[e._v("\n        "+e._s(e.text)+"\n      ")]):e._e()],1)])])},staticRenderFns:[]},function(e){e&&e("data-v-417e7814_0",{source:".v-loading-mask{position:absolute;z-index:2000;background-color:hsla(0,0%,100%,.8);margin:0;top:0;right:0;bottom:0;left:0;transition:opacity .3s}.v-loading-mask.is-fullscreen{position:fixed}.v-loading-spinner{left:0;top:0;z-index:2001;top:50%;margin-top:-21px;width:100%;text-align:center;position:absolute;min-height:20px}.el-loading-parent--relative{position:relative!important;pointer-events:none}.el-loading-parent--hidden{overflow:hidden!important}",map:void 0,media:void 0})},{components:{circular:r},data:()=>({text:null,spinner:null,background:null,fullscreen:!1,visible:!1,customClass:"",color:"#409EFF"}),methods:{handleAfterLeave(){this.$emit("after-leave")},setText(e){this.text=e}}},void 0,!1,void 0,a,void 0);const d=Number(document.documentMode),c=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},u=function(e){return e};function f(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function m(e,t){if(e){for(var n=e.className,i=(t||"").split(" "),s=0,o=i.length;s<o;s++){var a=i[s];a&&(e.classList?e.classList.add(a):f(e,a)||(n+=" "+a))}e.classList||(e.className=n)}}function p(e,t){if(e&&t){for(var n=t.split(" "),i=" "+e.className+" ",s=0,o=n.length;s<o;s++){var a=n[s];a&&(e.classList?e.classList.remove(a):f(e,a)&&(i=i.replace(" "+a+" "," ")))}e.classList||(e.className=c(i))}}const h=d<9?function(e,t){if(!e||!t)return null;"float"===(t=u(t))&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(e){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}:function(e,t){if(!e||!t)return null;"float"===(t=u(t))&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}};const g=e.extend(l),v={};v.install=((e,t)=>{const n=function(e){for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t]||{};for(let t in n)if(n.hasOwnProperty(t)){let i=n[t];void 0!==i&&(e[t]=i)}}return e}({},{text:"",fullscreen:!1,body:!1,lock:!1,customClass:"",color:new String("#1E90FF")},t);if(e.prototype.$isServer)return;const i=(t,n)=>{n.value?e.nextTick(()=>{n.modifiers.fullscreen?(t.originalPosition=h(document.body,"position"),t.originalOverflow=h(document.body,"overflow"),m(t.mask,"is-fullscreen"),s(document.body,t,n)):(p(t.mask,"is-fullscreen"),n.modifiers.body?(t.originalPosition=h(document.body,"position"),["top","left"].forEach(e=>{const n="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]-parseInt(h(document.body,`margin-${e}`),10)+"px"}),["height","width"].forEach(e=>{t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"}),s(document.body,t,n)):(t.originalPosition=h(t,"position"),s(t,t,n)))}):(!function(e,t,n=300,i=!1){if(!e||!t)throw new Error("instance & callback is required");let s=!1;const o=function(){s||(s=!0,t&&t.apply(null,arguments))};i?e.$once("after-leave",o):e.$on("after-leave",o),setTimeout(()=>{o()},n+100)}(t.instance,()=>{if(!t.instance.hiding)return;t.domVisible=!1;const e=n.modifiers.fullscreen||n.modifiers.body?document.body:t;p(e,"el-loading-parent--relative"),p(e,"el-loading-parent--hidden"),t.instance.hiding=!1},300,!0),t.instance.visible=!1,t.instance.hiding=!0)},s=(t,n,i)=>{n.domVisible||"none"===h(n,"display")||"hidden"===h(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach(e=>{n.mask.style[e]=n.maskStyle[e]}),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&m(t,"el-loading-parent--relative"),i.modifiers.fullscreen&&i.modifiers.lock&&m(t,"el-loading-parent--hidden"),n.domVisible=!0,t.appendChild(n.mask),e.nextTick(()=>{n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0}),n.domInserted=!0)};e.directive("loading",{bind:function(e,t){const s=e.getAttribute("element-loading-text"),o=e.getAttribute("element-loading-spinner"),a=e.getAttribute("element-loading-background"),r=e.getAttribute("element-loading-custom-class"),l=e.getAttribute("element-loading-color"),d=new g({el:document.createElement("div"),data:{text:n.text||s,spinner:o,background:a,customClass:r,fullscreen:!!t.modifiers.fullscreen,color:l||n.color}});e.instance=d,e.mask=d.$el,e.maskStyle={},t.value&&i(e,t)},update:function(e,t){e.instance.setText(e.getAttribute("element-loading-text")||n.text),t.oldValue!==t.value&&i(e,t)},unbind:function(e,t){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),i(e,{value:!1,modifiers:t.modifiers})),e.instance&&e.instance.$destroy()}})});export default{install(e,t){e.use(v,t)}};